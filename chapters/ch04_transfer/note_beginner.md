# 第4章 伝達関数 - 初級編

## 1. 伝達関数とは (What is Transfer Function)

### 1.1 伝達関数の定義

**伝達関数 (transfer function)** とは、線形システムの入力と出力の関係をラプラス変換を用いて表現したものです。

制御システムでは、入力信号がシステムを通過して出力信号に変換されます。この変換の性質を数式で表すのが伝達関数です。

$$G(s) = \frac{Y(s)}{U(s)}$$

ここで：
- $G(s)$：伝達関数
- $Y(s)$：出力信号のラプラス変換
- $U(s)$：入力信号のラプラス変換
- $s$：ラプラス変数（複素数）

### 1.2 直感的な理解

伝達関数を使うと、システムの振る舞いを「ブラックボックス」として簡潔に表現できます：

```
入力 u(t) → [システム G(s)] → 出力 y(t)
```

**例**：
- エアコンの温度制御：設定温度（入力）→ エアコン（システム）→ 室温（出力）
- 自動車の速度制御：アクセル開度（入力）→ 車両（システム）→ 速度（出力）

> **注意**: 伝達関数は線形システムにのみ適用できます。非線形システムの場合は、線形化やより高度な手法が必要です。

---

## 2. 入力と出力の関係 (Input-Output Relationship)

### 2.1 時間領域とラプラス領域

伝達関数を使うと、時間領域での微分方程式をラプラス領域での代数方程式に変換できます。

**時間領域**（微分方程式）：
$$\frac{dy(t)}{dt} + ay(t) = bu(t)$$

**ラプラス領域**（代数方程式）：
$$sY(s) + aY(s) = bU(s)$$

これを $Y(s)$ について解くと：
$$Y(s) = \frac{b}{s+a}U(s)$$

したがって、伝達関数は：
$$G(s) = \frac{Y(s)}{U(s)} = \frac{b}{s+a}$$

### 2.2 伝達関数の利点

1. **計算の簡略化**：微分方程式を代数式に変換
2. **システムの特性把握**：一つの式でシステム全体の性質を表現
3. **設計の容易性**：パラメータ調整の効果が見やすい

---

## 3. 1次系の伝達関数 (First-Order System)

### 3.1 標準形

最も基本的な伝達関数は **1次遅れ系 (first-order lag system)** です：

$$G(s) = \frac{K}{1+Ts}$$

ここで：
- $K$：**ゲイン (gain)**（定常状態での増幅率）
- $T$：**時定数 (time constant)**（応答の速さを表す）

### 3.2 時定数の意味

時定数 $T$ は、システムがどれくらい速く応答するかを表します：
- $T$ が**小さい**：速い応答（すぐに目標値に達する）
- $T$ が**大きい**：遅い応答（ゆっくり目標値に近づく）

**例**：
- 温度計の温度測定：$K=1$、$T=10$ 秒
- 電気回路のRC回路：$K=1$、$R=100$ Ω、$C=0.01$ F のとき $T=RC=1$ 秒

### 3.3 ステップ応答

ステップ入力 $u(t) = 1$ （$U(s) = 1/s$）を加えたとき、出力は：

$$Y(s) = G(s)U(s) = \frac{K}{1+Ts} \cdot \frac{1}{s}$$

これを逆ラプラス変換すると：

$$y(t) = K\left(1 - e^{-t/T}\right)$$

この式から：
- $t=0$ のとき：$y(0) = 0$（初期値）
- $t=T$ のとき：$y(T) = K(1-e^{-1}) \approx 0.632K$（最終値の約63%）
- $t \to \infty$ のとき：$y(\infty) = K$（最終値）

---

## 4. 極の基本概念 (Basic Concept of Poles)

### 4.1 極とは

伝達関数 $G(s)$ の**極 (pole)** とは、分母を0にする $s$ の値です。

$$G(s) = \frac{K}{1+Ts} = \frac{K}{T(s+1/T)}$$

分母 $s + 1/T = 0$ となるのは $s = -1/T$ のとき。

したがって、この系の極は：
$$s = -\frac{1}{T}$$

### 4.2 極の位置と安定性

極の位置は、システムの安定性を決定します：

- **極が負の実数**（$s < 0$）：安定（応答は時間とともに減衰）
- **極が正の実数**（$s > 0$）：不安定（応答は時間とともに発散）
- **極の絶対値が大きい**：速い応答
- **極の絶対値が小さい**：遅い応答

**例**：
- $T=1$ のとき、極は $s=-1$（比較的速い応答）
- $T=10$ のとき、極は $s=-0.1$（遅い応答）

> **注意**: この初級編では1次系（極が1つ）を扱いました。中級編では複数の極を持つ高次系やゼロ点についても学びます。

---

## 5. 具体例：RC回路の伝達関数 (Example: RC Circuit)

### 5.1 回路の構成

抵抗 $R$ とコンデンサ $C$ からなる単純なRC回路を考えます。

- 入力電圧：$u(t) = v_{in}(t)$
- 出力電圧：$y(t) = v_{out}(t)$ （コンデンサの両端電圧）

### 5.2 微分方程式

キルヒホッフの法則より：

$$RC\frac{dv_{out}(t)}{dt} + v_{out}(t) = v_{in}(t)$$

### 5.3 伝達関数の導出

ラプラス変換を適用：

$$RCsV_{out}(s) + V_{out}(s) = V_{in}(s)$$

整理すると：

$$G(s) = \frac{V_{out}(s)}{V_{in}(s)} = \frac{1}{1+RCs}$$

これは1次遅れ系の標準形で：
- ゲイン：$K = 1$
- 時定数：$T = RC$

**具体的な数値例**：
- $R = 1000$ Ω、$C = 0.001$ F のとき
- 時定数 $T = RC = 1$ 秒
- 極 $s = -1/T = -1$

---

## まとめ

この初級編では、以下を学びました：

- **伝達関数の定義**：$G(s) = Y(s)/U(s)$ で入力と出力の関係を表現
- **ラプラス変換の利点**：微分方程式を代数方程式に変換して計算を簡略化
- **1次系の標準形**：$G(s) = K/(1+Ts)$ でゲイン $K$ と時定数 $T$ が重要なパラメータ
- **極の基本**：分母を0にする値で、システムの安定性と応答速度を決定
- **具体例**：RC回路など実際のシステムへの適用

次の**中級編**では、以下を学習します：
- 極と零点のより詳しい解析
- 積分要素、微分要素、2次遅れ系などの基本要素
- ブロック線図を用いた複数システムの結合（直列、並列、フィードバック）
- より実践的な制御システム設計への応用

初級編で学んだ基礎をもとに、より複雑なシステムの解析手法を習得していきましょう！
