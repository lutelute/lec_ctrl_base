# 第12章 制御系の定常特性 - 中級編

## 1. 定常偏差の計算方法

### 最終値定理の適用

定常偏差 $e_{ss}$ は、**最終値定理 (final value theorem)** を用いて計算できます：

$$e_{ss} = \lim_{t \to \infty} e(t) = \lim_{s \to 0} sE(s)$$

ここで、$E(s)$ は偏差信号 $e(t)$ のラプラス変換です。この定理により、時間領域での極限を周波数領域で計算できます。

### 単位フィードバック系での定常偏差式の導出

単位フィードバック系では、偏差 $E(s)$ は次のように表されます：

$$E(s) = R(s) - Y(s) = R(s) - G(s)E(s)$$

これを整理すると：

$$E(s) = \frac{R(s)}{1 + G(s)}$$

最終値定理を適用すれば：

$$e_{ss} = \lim_{s \to 0} s \cdot \frac{R(s)}{1 + G(s)}$$

### 開ループ伝達関数との関係

開ループ伝達関数 $G(s)$ の原点における振る舞いが、定常偏差の大きさを決定します。特に、$G(s)$ が原点に何個の極（積分器）を持つかが重要です。

## 2. システムの型 (System Type)

### 型の定義

**システムの型 (system type)** は、開ループ伝達関数 $G(s)$ における原点の極の数で定義されます。

開ループ伝達関数が次のように表されるとき：

$$G(s) = \frac{K(s + z_1)(s + z_2)\cdots}{s^N(s + p_1)(s + p_2)\cdots}$$

この $N$ を**システムの型**と呼び、**Type $N$ システム**といいます。

### Type 0 システム

**Type 0 システム**は、原点に極を持たないシステムです（$N = 0$）：

$$G(s) = \frac{K(s + z_1)\cdots}{(s + p_1)(s + p_2)\cdots}$$

このシステムの特徴：
- $s \to 0$ のとき $G(0) = K_p$（有限値）
- **位置定数 (position error constant)** $K_p = \lim_{s \to 0} G(s)$
- ステップ入力に対して有限の定常偏差が残る

### Type 1 システム

**Type 1 システム**は、原点に1つの極を持つシステムです（$N = 1$）：

$$G(s) = \frac{K(s + z_1)\cdots}{s(s + p_1)(s + p_2)\cdots}$$

このシステムの特徴：
- $s \to 0$ のとき $G(s) \to \infty$
- **速度定数 (velocity error constant)** $K_v = \lim_{s \to 0} sG(s)$（有限値）
- ステップ入力に対して定常偏差ゼロ
- ランプ入力に対して有限の定常偏差

### Type 2 システム

**Type 2 システム**は、原点に2つの極を持つシステムです（$N = 2$）：

$$G(s) = \frac{K(s + z_1)\cdots}{s^2(s + p_1)(s + p_2)\cdots}$$

このシステムの特徴：
- $s \to 0$ のとき $sG(s) \to \infty$
- **加速度定数 (acceleration error constant)** $K_a = \lim_{s \to 0} s^2G(s)$（有限値）
- ステップ入力とランプ入力に対して定常偏差ゼロ
- パラボラ入力に対して有限の定常偏差

## 3. 入力の種類と定常偏差

制御系の性能は、入力信号の種類によって異なります。代表的な3つの入力を考えます。

### ステップ入力（位置入力）

**ステップ入力 (step input)** は、目標値が一定値に変化する入力です：

$$r(t) = R \cdot u(t), \quad R(s) = \frac{R}{s}$$

これは位置の変化に相当するため、**位置入力**とも呼ばれます。

### ランプ入力（速度入力）

**ランプ入力 (ramp input)** は、目標値が一定速度で変化する入力です：

$$r(t) = Rt, \quad R(s) = \frac{R}{s^2}$$

これは一定速度の変化に相当するため、**速度入力**とも呼ばれます。

### パラボラ入力（加速度入力）

**パラボラ入力 (parabolic input)** は、目標値が一定加速度で変化する入力です：

$$r(t) = \frac{R}{2}t^2, \quad R(s) = \frac{R}{s^3}$$

これは一定加速度の変化に相当するため、**加速度入力**とも呼ばれます。

## 4. 定常偏差のまとめ表

システムの型と入力の種類の組み合わせによる定常偏差を以下の表にまとめます：

| システムの型 | ステップ入力 | ランプ入力 | パラボラ入力 |
|------------|------------|-----------|-------------|
| **Type 0** | $\frac{R}{1+K_p}$ | $\infty$ | $\infty$ |
| **Type 1** | $0$ | $\frac{R}{K_v}$ | $\infty$ |
| **Type 2** | $0$ | $0$ | $\frac{R}{K_a}$ |

ここで：
- $K_p = \lim_{s \to 0} G(s)$ : 位置定数
- $K_v = \lim_{s \to 0} sG(s)$ : 速度定数
- $K_a = \lim_{s \to 0} s^2G(s)$ : 加速度定数
- $\infty$ は定常偏差が無限大（発散）を意味します

### 表の読み方

この表から以下のことが分かります：

1. **Type 0 システム**は、ステップ入力に対してのみ有限の定常偏差で追従できる
2. **Type 1 システム**は、ステップ入力に完全追従し、ランプ入力には有限の偏差で追従できる
3. **Type 2 システム**は、ステップ入力とランプ入力に完全追従し、パラボラ入力には有限の偏差で追従できる
4. システムの型が高いほど、より複雑な入力に追従できる

## 5. 計算例

### 例題1: Type 0 システムのステップ応答

次の伝達関数を持つシステムを考えます：

$$G(s) = \frac{10}{s + 2}$$

このシステムは原点に極を持たないので**Type 0**です。

単位ステップ入力 $R(s) = 1/s$ に対する定常偏差を計算します：

$$e_{ss} = \lim_{s \to 0} s \cdot \frac{1/s}{1 + 10/(s+2)} = \lim_{s \to 0} \frac{1}{1 + 10/(s+2)}$$

$$= \frac{1}{1 + 10/2} = \frac{1}{1 + 5} = \frac{1}{6} \approx 0.167$$

位置定数は $K_p = G(0) = 10/2 = 5$ なので、公式からも：

$$e_{ss} = \frac{1}{1 + K_p} = \frac{1}{1 + 5} = \frac{1}{6}$$

### 例題2: Type 1 システムのランプ応答

次の伝達関数を持つシステムを考えます：

$$G(s) = \frac{20}{s(s + 4)}$$

このシステムは原点に1つの極を持つので**Type 1**です。

ランプ入力 $R(s) = 1/s^2$ に対する定常偏差を計算します：

速度定数は：

$$K_v = \lim_{s \to 0} sG(s) = \lim_{s \to 0} \frac{20}{s + 4} = \frac{20}{4} = 5$$

したがって：

$$e_{ss} = \frac{1}{K_v} = \frac{1}{5} = 0.2$$

### 例題3: Type 2 システムのパラボラ応答

次の伝達関数を持つシステムを考えます：

$$G(s) = \frac{100}{s^2(s + 5)}$$

このシステムは原点に2つの極を持つので**Type 2**です。

パラボラ入力 $R(s) = 1/s^3$ に対する定常偏差を計算します：

加速度定数は：

$$K_a = \lim_{s \to 0} s^2G(s) = \lim_{s \to 0} \frac{100}{s + 5} = \frac{100}{5} = 20$$

したがって：

$$e_{ss} = \frac{1}{K_a} = \frac{1}{20} = 0.05$$

## まとめ

- 定常偏差は**最終値定理**を用いて計算できる
- **システムの型**は開ループ伝達関数の原点における極の数で決まる
- Type 0 → 位置定数 $K_p$、Type 1 → 速度定数 $K_v$、Type 2 → 加速度定数 $K_a$
- システムの型が高いほど、より複雑な入力に完全追従できる
- 定常偏差を小さくするには、適切なシステムの型を選ぶか、誤差定数を大きくする

次の理解者編では、内部モデル原理と定常特性の理論的背景について学びます。
